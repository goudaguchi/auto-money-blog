# Grand Unified Diagnosis Architecture (GUDA) - Design Doc

## 1. 核心思想 (Core Philosophy)
既存の診断は「ユーザーが自覚していること（顕在意識）」しか測定できない。
世界一詳細な診断には、**「ユーザー自身も気づいていない無意識の領域（潜在意識・OSのカーネル）」**と**「身体・神経系の反応（ハードウェア）」**へのアクセスが不可欠である。

## 2. 診断の5層構造 (The 5-Layer Model)

人間の「OS」を5つのレイヤーで解析する。

### Layer 1: Hardware (神経系・感覚処理)
**「脳と身体のスペック」**
- **感覚処理感受性 (HSP/Sensory Processing)**: 五感の過敏さ、鈍麻さ。
- **自律神経調整 (Polyvagal Theory)**: 闘争・逃走反応、凍りつき反応の閾値。
- **概日リズム (Chronotype)**: 遺伝的なクロノタイプ（朝型・夜型）。
- **測定法**: 
    - 画面の明滅や特定の音に対する不快指数の測定（感覚過敏）。
    - ストレス刺激後の「落ち着くまでの時間」の測定（迷走神経）。

### Layer 2: Kernel (認知特性・脳機能)
**「情報の処理プロセス」**
- **実行機能 (Executive Functions)**: ワーキングメモリ、抑制機能、シフト機能。
- **注意制御 (Attentional Control)**: 選択的注意、持続的注意。
- **情報入力特性**: 視覚優位 vs 聴覚優位 vs 言語優位。
- **測定法**: 
    - ゲーミフィケーションされた認知課題（N-back, Go/No-Go）。
    - 視覚情報と聴覚情報のどちらが記憶に残るかの比較テスト。

### Layer 3: Driver (深層心理・欲求)
**「行動を突き動かす根源的なエンジン」**
- **防衛機制 (Defense Mechanisms)**: 不安に対する無意識の対処（抑圧、投影、昇華など）。
- **愛着スタイル (Attachment Style)**: 対人関係のOS（安定型、不安型、回避型）。
- **スキーマ (Core Schemas)**: 「私は愛されない」「世界は危険だ」などの根本的な思い込み。
- **測定法**: 
    - **投影法的アプローチ**: 曖昧な画像やストーリーの結末を選択させ、無意識のバイアスを検出する。
    - **IAT (潜在的連合テスト)**: 言葉と画像の組み合わせ反応速度から、無意識の偏見や自己肯定感を測る。

### Layer 4: Application (性格・行動パターン)
**「表出する行動特性」**
- **Big Five + MBTI**: 一般的な性格特性。
- **コーピングスタイル**: ストレス時の対処法。
- **測定法**: 
    - 具体的シチュエーションでの行動選択（既存のエピソード形式を高度化）。

### Layer 5: Logs (生育歴・ナラティブ)
**「OSが形成された歴史」**
- **ACEs (逆境的小児期体験)**: 過去のトラウマ体験。
- **成功/失敗体験**: 自己効力感の源泉。
- **測定法**: 
    - タイムライン形式でのライフレビュー。

## 3. 革新的な測定メソドロジー

### A. 「迷い」の計測 (Micro-Behavior Analysis)
回答の内容だけでなく、**「回答にかかった時間」「マウスの動き」「一度選んで変えたか」**を計測する。
- 即答した＝確信がある、または衝動的。
- 長考した＝葛藤がある、または処理速度の問題。
- 選択肢を行き来した＝迷い、防衛機制の働き。

### B. 負荷テスト (Stress Testing)
平時の状態だけでなく、**「認知負荷がかかった状態」**での判断を測定する。
- 画面上でノイズ（通知音や視覚的妨害）を発生させながらタスクを行わせ、パフォーマンスの低下率を見る（ADHD特性のあぶり出し）。

### C. 矛盾の検出 (Inconsistency Detection)
- 「私は計画的だ」と答えつつ、計画性を問う実技テストで失敗する → **「自己認識のズレ（メタ認知の問題）」**として診断結果に反映。

## 4. 診断フローの再構築

1.  **Calibration (調整)**: ベースラインの反応速度を測定。
2.  **Deep Dive (潜行)**: 
    - 抽象的なイメージ選択（右脳・深層心理）。
    - 負荷のかかる認知タスク（左脳・ハードウェア）。
    - 過去の追体験（記憶・トラウマ）。
3.  **Synthesis (統合)**: 
    - 全データを統合し、矛盾を解析。
    - 「あなたはこういう人です」だけでなく、「なぜそうなったか」「どうすれば最適化できるか」を導き出す。

## 5. 次のアクション
このアーキテクチャに基づき、まずは**「Layer 2 (Kernel)」と「Layer 3 (Driver)」**を統合したプロトタイプを設計する。
特に「無意識（Driver）」をWeb上でどう測るかが最大の挑戦。
- **IAT（潜在的連合テスト）の簡易版**を実装できないか検討する。
